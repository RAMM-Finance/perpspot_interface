{
  "abi": [
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "token0",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "token1",
              "type": "address"
            },
            {
              "internalType": "uint24",
              "name": "fee",
              "type": "uint24"
            }
          ],
          "internalType": "struct PoolKey",
          "name": "key",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "margin",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxSlippage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minEstimatedSlippage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "borrowAmount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "positionIsToken0",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "executionOption",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            }
          ],
          "internalType": "struct AddParams",
          "name": "param",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "int24",
              "name": "tick",
              "type": "int24"
            },
            {
              "internalType": "uint128",
              "name": "liquidity",
              "type": "uint128"
            },
            {
              "internalType": "uint256",
              "name": "premium",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "Urate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "feeGrowthInside0LastX128",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "feeGrowthInside1LastX128",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "lastGrowth",
              "type": "uint256"
            }
          ],
          "internalType": "struct LiquidityLoan[]",
          "name": "borrowInfo",
          "type": "tuple[]"
        }
      ],
      "name": "addPosition",
      "outputs": [
        {
          "components": [
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "pool",
                  "type": "address"
                },
                {
                  "internalType": "bool",
                  "name": "underAuction",
                  "type": "bool"
                },
                {
                  "internalType": "bool",
                  "name": "isToken0",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "totalDebtOutput",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "totalDebtInput",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "recentPremium",
                  "type": "uint256"
                },
                {
                  "internalType": "uint32",
                  "name": "openTime",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "repayTime",
                  "type": "uint32"
                },
                {
                  "components": [
                    {
                      "internalType": "int24",
                      "name": "tick",
                      "type": "int24"
                    },
                    {
                      "internalType": "uint128",
                      "name": "liquidity",
                      "type": "uint128"
                    },
                    {
                      "internalType": "uint256",
                      "name": "premium",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "Urate",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "feeGrowthInside0LastX128",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "feeGrowthInside1LastX128",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "lastGrowth",
                      "type": "uint256"
                    }
                  ],
                  "internalType": "struct LiquidityLoan[]",
                  "name": "borrowInfo",
                  "type": "tuple[]"
                }
              ],
              "internalType": "struct Position",
              "name": "base",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "totalPosition",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "margin",
              "type": "uint256"
            }
          ],
          "internalType": "struct MarginPosition",
          "name": "marginPosition",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "premiumPaid",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "pool",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "trader",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "positionIsToken0",
          "type": "bool"
        }
      ],
      "name": "getPosition",
      "outputs": [
        {
          "components": [
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "pool",
                  "type": "address"
                },
                {
                  "internalType": "bool",
                  "name": "underAuction",
                  "type": "bool"
                },
                {
                  "internalType": "bool",
                  "name": "isToken0",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "totalDebtOutput",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "totalDebtInput",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "recentPremium",
                  "type": "uint256"
                },
                {
                  "internalType": "uint32",
                  "name": "openTime",
                  "type": "uint32"
                },
                {
                  "internalType": "uint32",
                  "name": "repayTime",
                  "type": "uint32"
                },
                {
                  "components": [
                    {
                      "internalType": "int24",
                      "name": "tick",
                      "type": "int24"
                    },
                    {
                      "internalType": "uint128",
                      "name": "liquidity",
                      "type": "uint128"
                    },
                    {
                      "internalType": "uint256",
                      "name": "premium",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "Urate",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "feeGrowthInside0LastX128",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "feeGrowthInside1LastX128",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "lastGrowth",
                      "type": "uint256"
                    }
                  ],
                  "internalType": "struct LiquidityLoan[]",
                  "name": "borrowInfo",
                  "type": "tuple[]"
                }
              ],
              "internalType": "struct Position",
              "name": "base",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "totalPosition",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "margin",
              "type": "uint256"
            }
          ],
          "internalType": "struct MarginPosition",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "token0",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "token1",
              "type": "address"
            },
            {
              "internalType": "uint24",
              "name": "fee",
              "type": "uint24"
            }
          ],
          "internalType": "struct PoolKey",
          "name": "key",
          "type": "tuple"
        },
        {
          "components": [
            {
              "internalType": "bool",
              "name": "positionIsToken0",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "reduceAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "maxSlippage",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "executionOption",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "executionData",
              "type": "bytes32"
            },
            {
              "internalType": "uint160",
              "name": "slippedPrice",
              "type": "uint160"
            }
          ],
          "internalType": "struct ReduceParam",
          "name": "param",
          "type": "tuple"
        }
      ],
      "name": "reducePosition",
      "outputs": [
        {
          "components": [
            {
              "internalType": "int256",
              "name": "amount0",
              "type": "int256"
            },
            {
              "internalType": "int256",
              "name": "amount1",
              "type": "int256"
            },
            {
              "internalType": "int256",
              "name": "PnL",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "returnedAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "repaidDebt0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "repaidDebt1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "premium",
              "type": "uint256"
            }
          ],
          "internalType": "struct ReduceReturn",
          "name": "result",
          "type": "tuple"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": {
    "object": "0x",
    "sourceMap": "",
    "linkReferences": {}
  },
  "deployedBytecode": {
    "object": "0x",
    "sourceMap": "",
    "linkReferences": {}
  },
  "methodIdentifiers": {
    "addPosition((address,address,uint24),(uint256,uint256,uint256,uint256,bool,uint256,address),(int24,uint128,uint256,uint256,uint256,uint256,uint256)[])": "2f10bce7",
    "getPosition(address,address,bool)": "8c1395f8",
    "reducePosition((address,address,uint24),(bool,uint256,uint256,address,uint256,bytes32,uint160))": "99712da6"
  },
  "rawMetadata": "{\"compiler\":{\"version\":\"0.8.21+commit.d9974bed\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"token0\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token1\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"internalType\":\"struct PoolKey\",\"name\":\"key\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxSlippage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minEstimatedSlippage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"positionIsToken0\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"executionOption\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"}],\"internalType\":\"struct AddParams\",\"name\":\"param\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"int24\",\"name\":\"tick\",\"type\":\"int24\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"premium\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"Urate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside0LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside1LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastGrowth\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityLoan[]\",\"name\":\"borrowInfo\",\"type\":\"tuple[]\"}],\"name\":\"addPosition\",\"outputs\":[{\"components\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"underAuction\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isToken0\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"totalDebtOutput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalDebtInput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"recentPremium\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"openTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"repayTime\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"int24\",\"name\":\"tick\",\"type\":\"int24\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"premium\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"Urate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside0LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside1LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastGrowth\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityLoan[]\",\"name\":\"borrowInfo\",\"type\":\"tuple[]\"}],\"internalType\":\"struct Position\",\"name\":\"base\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"totalPosition\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"internalType\":\"struct MarginPosition\",\"name\":\"marginPosition\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"premiumPaid\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"positionIsToken0\",\"type\":\"bool\"}],\"name\":\"getPosition\",\"outputs\":[{\"components\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"underAuction\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isToken0\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"totalDebtOutput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalDebtInput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"recentPremium\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"openTime\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"repayTime\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"int24\",\"name\":\"tick\",\"type\":\"int24\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"premium\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"Urate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside0LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"feeGrowthInside1LastX128\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastGrowth\",\"type\":\"uint256\"}],\"internalType\":\"struct LiquidityLoan[]\",\"name\":\"borrowInfo\",\"type\":\"tuple[]\"}],\"internalType\":\"struct Position\",\"name\":\"base\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"totalPosition\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"margin\",\"type\":\"uint256\"}],\"internalType\":\"struct MarginPosition\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"token0\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"token1\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"internalType\":\"struct PoolKey\",\"name\":\"key\",\"type\":\"tuple\"},{\"components\":[{\"internalType\":\"bool\",\"name\":\"positionIsToken0\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"reduceAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxSlippage\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"executionOption\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"executionData\",\"type\":\"bytes32\"},{\"internalType\":\"uint160\",\"name\":\"slippedPrice\",\"type\":\"uint160\"}],\"internalType\":\"struct ReduceParam\",\"name\":\"param\",\"type\":\"tuple\"}],\"name\":\"reducePosition\",\"outputs\":[{\"components\":[{\"internalType\":\"int256\",\"name\":\"amount0\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"amount1\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"PnL\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"returnedAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"repaidDebt0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"repaidDebt1\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"premium\",\"type\":\"uint256\"}],\"internalType\":\"struct ReduceReturn\",\"name\":\"result\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"addPosition((address,address,uint24),(uint256,uint256,uint256,uint256,bool,uint256,address),(int24,uint128,uint256,uint256,uint256,uint256,uint256)[])\":{\"returns\":{\"marginPosition\":\"is the resulting position, premiumPaid is the amount of premium transferred if you are adding to an existing position.\"}},\"reducePosition((address,address,uint24),(bool,uint256,uint256,address,uint256,bytes32,uint160))\":{\"params\":{\"key\":\"pool key, see types.sol for more details\",\"param\":\"see types.sol for more details\"},\"returns\":{\"result\":\"see types.sol for more details\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"addPosition((address,address,uint24),(uint256,uint256,uint256,uint256,bool,uint256,address),(int24,uint128,uint256,uint256,uint256,uint256,uint256)[])\":{\"notice\":\"creates a leveraged position for the trader, returns the position created in addition to the premiumOwed  if you are adding to an existing position then calling this function will also pay the premium owed since last repayment by transferring from the premium deposit to the poolManager  caller must compute the premiumOwed beforehand and ensure that the trader has enough premium deposit.\"},\"getPosition(address,address,bool)\":{\"notice\":\"retrieves a leveraged limitless position\"},\"reducePosition((address,address,uint24),(bool,uint256,uint256,address,uint256,bytes32,uint160))\":{\"notice\":\"reduces an existing margin position\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IMarginFacility.sol\":\"IMarginFacility\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@prb/test/=lib/prb-test/src/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":prb-test/=lib/prb-test/src/\",\":solmate/=lib/solmate/\",\":universal-router/=lib/universal-router/contracts/\"]},\"sources\":{\"src/interfaces/IMarginFacility.sol\":{\"keccak256\":\"0xa4cce0f0c0bf77bb2c3db5aab89ee4a7115938a7ba9a053dc1769966ad645acc\",\"urls\":[\"bzz-raw://99d896059ebf82a85d81dd871a0488ff4ff5b6d2e0e59d9982d52ba02f10b43f\",\"dweb:/ipfs/QmRZPSGHotcnY1cPPYxSH7U3LhjFN3NZ5gtZS3YieQnEUt\"]},\"src/types.sol\":{\"keccak256\":\"0x749524dd7c8f80d2d2afda61929c7297c7a59e3f3219f5de548af2f132ca8fab\",\"urls\":[\"bzz-raw://905fb505bbed892789f10368ecee365afbb0991f450591e79fa9d45c987b1a09\",\"dweb:/ipfs/QmUkRiyPrPeSJGAr2Dr3yGrZzHTyAWqeWhTMbUzpxiZcnH\"]}},\"version\":1}",
  "metadata": {
    "compiler": {
      "version": "0.8.21+commit.d9974bed"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [
            {
              "internalType": "struct PoolKey",
              "name": "key",
              "type": "tuple",
              "components": [
                {
                  "internalType": "address",
                  "name": "token0",
                  "type": "address"
                },
                {
                  "internalType": "address",
                  "name": "token1",
                  "type": "address"
                },
                {
                  "internalType": "uint24",
                  "name": "fee",
                  "type": "uint24"
                }
              ]
            },
            {
              "internalType": "struct AddParams",
              "name": "param",
              "type": "tuple",
              "components": [
                {
                  "internalType": "uint256",
                  "name": "margin",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "maxSlippage",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "minEstimatedSlippage",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "borrowAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "positionIsToken0",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "executionOption",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "trader",
                  "type": "address"
                }
              ]
            },
            {
              "internalType": "struct LiquidityLoan[]",
              "name": "borrowInfo",
              "type": "tuple[]",
              "components": [
                {
                  "internalType": "int24",
                  "name": "tick",
                  "type": "int24"
                },
                {
                  "internalType": "uint128",
                  "name": "liquidity",
                  "type": "uint128"
                },
                {
                  "internalType": "uint256",
                  "name": "premium",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "Urate",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "feeGrowthInside0LastX128",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "feeGrowthInside1LastX128",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "lastGrowth",
                  "type": "uint256"
                }
              ]
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "addPosition",
          "outputs": [
            {
              "internalType": "struct MarginPosition",
              "name": "marginPosition",
              "type": "tuple",
              "components": [
                {
                  "internalType": "struct Position",
                  "name": "base",
                  "type": "tuple",
                  "components": [
                    {
                      "internalType": "address",
                      "name": "pool",
                      "type": "address"
                    },
                    {
                      "internalType": "bool",
                      "name": "underAuction",
                      "type": "bool"
                    },
                    {
                      "internalType": "bool",
                      "name": "isToken0",
                      "type": "bool"
                    },
                    {
                      "internalType": "uint256",
                      "name": "totalDebtOutput",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "totalDebtInput",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "recentPremium",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint32",
                      "name": "openTime",
                      "type": "uint32"
                    },
                    {
                      "internalType": "uint32",
                      "name": "repayTime",
                      "type": "uint32"
                    },
                    {
                      "internalType": "struct LiquidityLoan[]",
                      "name": "borrowInfo",
                      "type": "tuple[]",
                      "components": [
                        {
                          "internalType": "int24",
                          "name": "tick",
                          "type": "int24"
                        },
                        {
                          "internalType": "uint128",
                          "name": "liquidity",
                          "type": "uint128"
                        },
                        {
                          "internalType": "uint256",
                          "name": "premium",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "Urate",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "feeGrowthInside0LastX128",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "feeGrowthInside1LastX128",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "lastGrowth",
                          "type": "uint256"
                        }
                      ]
                    }
                  ]
                },
                {
                  "internalType": "uint256",
                  "name": "totalPosition",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "margin",
                  "type": "uint256"
                }
              ]
            },
            {
              "internalType": "uint256",
              "name": "premiumPaid",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "pool",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "trader",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "positionIsToken0",
              "type": "bool"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "getPosition",
          "outputs": [
            {
              "internalType": "struct MarginPosition",
              "name": "",
              "type": "tuple",
              "components": [
                {
                  "internalType": "struct Position",
                  "name": "base",
                  "type": "tuple",
                  "components": [
                    {
                      "internalType": "address",
                      "name": "pool",
                      "type": "address"
                    },
                    {
                      "internalType": "bool",
                      "name": "underAuction",
                      "type": "bool"
                    },
                    {
                      "internalType": "bool",
                      "name": "isToken0",
                      "type": "bool"
                    },
                    {
                      "internalType": "uint256",
                      "name": "totalDebtOutput",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "totalDebtInput",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint256",
                      "name": "recentPremium",
                      "type": "uint256"
                    },
                    {
                      "internalType": "uint32",
                      "name": "openTime",
                      "type": "uint32"
                    },
                    {
                      "internalType": "uint32",
                      "name": "repayTime",
                      "type": "uint32"
                    },
                    {
                      "internalType": "struct LiquidityLoan[]",
                      "name": "borrowInfo",
                      "type": "tuple[]",
                      "components": [
                        {
                          "internalType": "int24",
                          "name": "tick",
                          "type": "int24"
                        },
                        {
                          "internalType": "uint128",
                          "name": "liquidity",
                          "type": "uint128"
                        },
                        {
                          "internalType": "uint256",
                          "name": "premium",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "Urate",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "feeGrowthInside0LastX128",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "feeGrowthInside1LastX128",
                          "type": "uint256"
                        },
                        {
                          "internalType": "uint256",
                          "name": "lastGrowth",
                          "type": "uint256"
                        }
                      ]
                    }
                  ]
                },
                {
                  "internalType": "uint256",
                  "name": "totalPosition",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "margin",
                  "type": "uint256"
                }
              ]
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "struct PoolKey",
              "name": "key",
              "type": "tuple",
              "components": [
                {
                  "internalType": "address",
                  "name": "token0",
                  "type": "address"
                },
                {
                  "internalType": "address",
                  "name": "token1",
                  "type": "address"
                },
                {
                  "internalType": "uint24",
                  "name": "fee",
                  "type": "uint24"
                }
              ]
            },
            {
              "internalType": "struct ReduceParam",
              "name": "param",
              "type": "tuple",
              "components": [
                {
                  "internalType": "bool",
                  "name": "positionIsToken0",
                  "type": "bool"
                },
                {
                  "internalType": "uint256",
                  "name": "reduceAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "maxSlippage",
                  "type": "uint256"
                },
                {
                  "internalType": "address",
                  "name": "trader",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "executionOption",
                  "type": "uint256"
                },
                {
                  "internalType": "bytes32",
                  "name": "executionData",
                  "type": "bytes32"
                },
                {
                  "internalType": "uint160",
                  "name": "slippedPrice",
                  "type": "uint160"
                }
              ]
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "reducePosition",
          "outputs": [
            {
              "internalType": "struct ReduceReturn",
              "name": "result",
              "type": "tuple",
              "components": [
                {
                  "internalType": "int256",
                  "name": "amount0",
                  "type": "int256"
                },
                {
                  "internalType": "int256",
                  "name": "amount1",
                  "type": "int256"
                },
                {
                  "internalType": "int256",
                  "name": "PnL",
                  "type": "int256"
                },
                {
                  "internalType": "uint256",
                  "name": "returnedAmount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "repaidDebt0",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "repaidDebt1",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "premium",
                  "type": "uint256"
                }
              ]
            }
          ]
        }
      ],
      "devdoc": {
        "kind": "dev",
        "methods": {
          "addPosition((address,address,uint24),(uint256,uint256,uint256,uint256,bool,uint256,address),(int24,uint128,uint256,uint256,uint256,uint256,uint256)[])": {
            "returns": {
              "marginPosition": "is the resulting position, premiumPaid is the amount of premium transferred if you are adding to an existing position."
            }
          },
          "reducePosition((address,address,uint24),(bool,uint256,uint256,address,uint256,bytes32,uint160))": {
            "params": {
              "key": "pool key, see types.sol for more details",
              "param": "see types.sol for more details"
            },
            "returns": {
              "result": "see types.sol for more details"
            }
          }
        },
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {
          "addPosition((address,address,uint24),(uint256,uint256,uint256,uint256,bool,uint256,address),(int24,uint128,uint256,uint256,uint256,uint256,uint256)[])": {
            "notice": "creates a leveraged position for the trader, returns the position created in addition to the premiumOwed  if you are adding to an existing position then calling this function will also pay the premium owed since last repayment by transferring from the premium deposit to the poolManager  caller must compute the premiumOwed beforehand and ensure that the trader has enough premium deposit."
          },
          "getPosition(address,address,bool)": {
            "notice": "retrieves a leveraged limitless position"
          },
          "reducePosition((address,address,uint24),(bool,uint256,uint256,address,uint256,bytes32,uint160))": {
            "notice": "reduces an existing margin position"
          }
        },
        "version": 1
      }
    },
    "settings": {
      "remappings": [
        "@openzeppelin/=lib/openzeppelin-contracts/",
        "@prb/test/=lib/prb-test/src/",
        "ds-test/=lib/forge-std/lib/ds-test/src/",
        "forge-std/=lib/forge-std/src/",
        "prb-test/=lib/prb-test/src/",
        "solmate/=lib/solmate/",
        "universal-router/=lib/universal-router/contracts/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "compilationTarget": {
        "src/interfaces/IMarginFacility.sol": "IMarginFacility"
      },
      "libraries": {}
    },
    "sources": {
      "src/interfaces/IMarginFacility.sol": {
        "keccak256": "0xa4cce0f0c0bf77bb2c3db5aab89ee4a7115938a7ba9a053dc1769966ad645acc",
        "urls": [
          "bzz-raw://99d896059ebf82a85d81dd871a0488ff4ff5b6d2e0e59d9982d52ba02f10b43f",
          "dweb:/ipfs/QmRZPSGHotcnY1cPPYxSH7U3LhjFN3NZ5gtZS3YieQnEUt"
        ],
        "license": null
      },
      "src/types.sol": {
        "keccak256": "0x749524dd7c8f80d2d2afda61929c7297c7a59e3f3219f5de548af2f132ca8fab",
        "urls": [
          "bzz-raw://905fb505bbed892789f10368ecee365afbb0991f450591e79fa9d45c987b1a09",
          "dweb:/ipfs/QmUkRiyPrPeSJGAr2Dr3yGrZzHTyAWqeWhTMbUzpxiZcnH"
        ],
        "license": null
      }
    },
    "version": 1
  },
  "ast": {
    "absolutePath": "src/interfaces/IMarginFacility.sol",
    "id": 59911,
    "exportedSymbols": {
      "AddParams": [
        60378
      ],
      "AuctionParam": [
        60336
      ],
      "BorrowPosition": [
        60317
      ],
      "IMarginFacility": [
        59910
      ],
      "Interest": [
        60261
      ],
      "LiquidityLoan": [
        60276
      ],
      "MINIMUM_LIQUIDITY": [
        60204
      ],
      "MarginPosition": [
        60311
      ],
      "MatchMakerParameters": [
        60224
      ],
      "OptionPosition": [
        60302
      ],
      "Order": [
        60430
      ],
      "PoolKey": [
        60249
      ],
      "PoolParam": [
        60331
      ],
      "Position": [
        60298
      ],
      "REPAY_THRESHOLD": [
        60207
      ],
      "ROUND": [
        60201
      ],
      "Rebalance": [
        60351
      ],
      "ReduceParam": [
        60394
      ],
      "ReduceReturn": [
        60410
      ],
      "URateParam": [
        60362
      ],
      "UniswapPosition": [
        60242
      ],
      "UniswapPositionKey": [
        60231
      ],
      "UtilizationGrowth": [
        60256
      ],
      "precision": [
        60196
      ]
    },
    "nodeType": "SourceUnit",
    "src": "0:1427:38",
    "nodes": [
      {
        "id": 59863,
        "nodeType": "PragmaDirective",
        "src": "0:23:38",
        "nodes": [],
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".0"
        ]
      },
      {
        "id": 59864,
        "nodeType": "ImportDirective",
        "src": "25:22:38",
        "nodes": [],
        "absolutePath": "src/types.sol",
        "file": "../types.sol",
        "nameLocation": "-1:-1:-1",
        "scope": 59911,
        "sourceUnit": 60431,
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "id": 59910,
        "nodeType": "ContractDefinition",
        "src": "49:1377:38",
        "nodes": [
          {
            "id": 59877,
            "nodeType": "FunctionDefinition",
            "src": "138:131:38",
            "nodes": [],
            "documentation": {
              "id": 59865,
              "nodeType": "StructuredDocumentation",
              "src": "81:52:38",
              "text": "@notice retrieves a leveraged limitless position"
            },
            "functionSelector": "8c1395f8",
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "getPosition",
            "nameLocation": "147:11:38",
            "parameters": {
              "id": 59872,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59867,
                  "mutability": "mutable",
                  "name": "pool",
                  "nameLocation": "167:4:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59877,
                  "src": "159:12:38",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 59866,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "159:7:38",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59869,
                  "mutability": "mutable",
                  "name": "trader",
                  "nameLocation": "181:6:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59877,
                  "src": "173:14:38",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 59868,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "173:7:38",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59871,
                  "mutability": "mutable",
                  "name": "positionIsToken0",
                  "nameLocation": "194:16:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59877,
                  "src": "189:21:38",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 59870,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "189:4:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "158:53:38"
            },
            "returnParameters": {
              "id": 59876,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59875,
                  "mutability": "mutable",
                  "name": "",
                  "nameLocation": "-1:-1:-1",
                  "nodeType": "VariableDeclaration",
                  "scope": 59877,
                  "src": "246:21:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_MarginPosition_$60311_memory_ptr",
                    "typeString": "struct MarginPosition"
                  },
                  "typeName": {
                    "id": 59874,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59873,
                      "name": "MarginPosition",
                      "nameLocations": [
                        "246:14:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60311,
                      "src": "246:14:38"
                    },
                    "referencedDeclaration": 60311,
                    "src": "246:14:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_MarginPosition_$60311_storage_ptr",
                      "typeString": "struct MarginPosition"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "245:23:38"
            },
            "scope": 59910,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "id": 59896,
            "nodeType": "FunctionDefinition",
            "src": "859:195:38",
            "nodes": [],
            "documentation": {
              "id": 59878,
              "nodeType": "StructuredDocumentation",
              "src": "275:579:38",
              "text": " @notice creates a leveraged position for the trader, returns the position created in addition to the premiumOwed\n  if you are adding to an existing position then calling this function will also pay the premium owed since last repayment by transferring from the premium deposit to the poolManager\n  caller must compute the premiumOwed beforehand and ensure that the trader has enough premium deposit.\n @return marginPosition is the resulting position, premiumPaid is the amount of premium transferred if you are adding to an existing position."
            },
            "functionSelector": "2f10bce7",
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "addPosition",
            "nameLocation": "868:11:38",
            "parameters": {
              "id": 59889,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59881,
                  "mutability": "mutable",
                  "name": "key",
                  "nameLocation": "897:3:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59896,
                  "src": "880:20:38",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PoolKey_$60249_calldata_ptr",
                    "typeString": "struct PoolKey"
                  },
                  "typeName": {
                    "id": 59880,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59879,
                      "name": "PoolKey",
                      "nameLocations": [
                        "880:7:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60249,
                      "src": "880:7:38"
                    },
                    "referencedDeclaration": 60249,
                    "src": "880:7:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PoolKey_$60249_storage_ptr",
                      "typeString": "struct PoolKey"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59884,
                  "mutability": "mutable",
                  "name": "param",
                  "nameLocation": "919:5:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59896,
                  "src": "902:22:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_AddParams_$60378_memory_ptr",
                    "typeString": "struct AddParams"
                  },
                  "typeName": {
                    "id": 59883,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59882,
                      "name": "AddParams",
                      "nameLocations": [
                        "902:9:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60378,
                      "src": "902:9:38"
                    },
                    "referencedDeclaration": 60378,
                    "src": "902:9:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_AddParams_$60378_storage_ptr",
                      "typeString": "struct AddParams"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59888,
                  "mutability": "mutable",
                  "name": "borrowInfo",
                  "nameLocation": "949:10:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59896,
                  "src": "926:33:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_struct$_LiquidityLoan_$60276_memory_ptr_$dyn_memory_ptr",
                    "typeString": "struct LiquidityLoan[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 59886,
                      "nodeType": "UserDefinedTypeName",
                      "pathNode": {
                        "id": 59885,
                        "name": "LiquidityLoan",
                        "nameLocations": [
                          "926:13:38"
                        ],
                        "nodeType": "IdentifierPath",
                        "referencedDeclaration": 60276,
                        "src": "926:13:38"
                      },
                      "referencedDeclaration": 60276,
                      "src": "926:13:38",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_LiquidityLoan_$60276_storage_ptr",
                        "typeString": "struct LiquidityLoan"
                      }
                    },
                    "id": 59887,
                    "nodeType": "ArrayTypeName",
                    "src": "926:15:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_struct$_LiquidityLoan_$60276_storage_$dyn_storage_ptr",
                      "typeString": "struct LiquidityLoan[]"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "879:81:38"
            },
            "returnParameters": {
              "id": 59895,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59892,
                  "mutability": "mutable",
                  "name": "marginPosition",
                  "nameLocation": "1017:14:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59896,
                  "src": "995:36:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_MarginPosition_$60311_memory_ptr",
                    "typeString": "struct MarginPosition"
                  },
                  "typeName": {
                    "id": 59891,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59890,
                      "name": "MarginPosition",
                      "nameLocations": [
                        "995:14:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60311,
                      "src": "995:14:38"
                    },
                    "referencedDeclaration": 60311,
                    "src": "995:14:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_MarginPosition_$60311_storage_ptr",
                      "typeString": "struct MarginPosition"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59894,
                  "mutability": "mutable",
                  "name": "premiumPaid",
                  "nameLocation": "1041:11:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59896,
                  "src": "1033:19:38",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 59893,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1033:7:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "994:59:38"
            },
            "scope": 59910,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "id": 59909,
            "nodeType": "FunctionDefinition",
            "src": "1290:134:38",
            "nodes": [],
            "documentation": {
              "id": 59897,
              "nodeType": "StructuredDocumentation",
              "src": "1060:225:38",
              "text": " @notice reduces an existing margin position\n @param key pool key, see types.sol for more details\n @param param see types.sol for more details\n @return result see types.sol for more details"
            },
            "functionSelector": "99712da6",
            "implemented": false,
            "kind": "function",
            "modifiers": [],
            "name": "reducePosition",
            "nameLocation": "1299:14:38",
            "parameters": {
              "id": 59904,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59900,
                  "mutability": "mutable",
                  "name": "key",
                  "nameLocation": "1331:3:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59909,
                  "src": "1314:20:38",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PoolKey_$60249_calldata_ptr",
                    "typeString": "struct PoolKey"
                  },
                  "typeName": {
                    "id": 59899,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59898,
                      "name": "PoolKey",
                      "nameLocations": [
                        "1314:7:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60249,
                      "src": "1314:7:38"
                    },
                    "referencedDeclaration": 60249,
                    "src": "1314:7:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PoolKey_$60249_storage_ptr",
                      "typeString": "struct PoolKey"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 59903,
                  "mutability": "mutable",
                  "name": "param",
                  "nameLocation": "1355:5:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59909,
                  "src": "1336:24:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_ReduceParam_$60394_memory_ptr",
                    "typeString": "struct ReduceParam"
                  },
                  "typeName": {
                    "id": 59902,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59901,
                      "name": "ReduceParam",
                      "nameLocations": [
                        "1336:11:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60394,
                      "src": "1336:11:38"
                    },
                    "referencedDeclaration": 60394,
                    "src": "1336:11:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_ReduceParam_$60394_storage_ptr",
                      "typeString": "struct ReduceParam"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1313:48:38"
            },
            "returnParameters": {
              "id": 59908,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 59907,
                  "mutability": "mutable",
                  "name": "result",
                  "nameLocation": "1416:6:38",
                  "nodeType": "VariableDeclaration",
                  "scope": 59909,
                  "src": "1396:26:38",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_ReduceReturn_$60410_memory_ptr",
                    "typeString": "struct ReduceReturn"
                  },
                  "typeName": {
                    "id": 59906,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 59905,
                      "name": "ReduceReturn",
                      "nameLocations": [
                        "1396:12:38"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 60410,
                      "src": "1396:12:38"
                    },
                    "referencedDeclaration": 60410,
                    "src": "1396:12:38",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_ReduceReturn_$60410_storage_ptr",
                      "typeString": "struct ReduceReturn"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1395:28:38"
            },
            "scope": 59910,
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "abstract": false,
        "baseContracts": [],
        "canonicalName": "IMarginFacility",
        "contractDependencies": [],
        "contractKind": "interface",
        "fullyImplemented": false,
        "linearizedBaseContracts": [
          59910
        ],
        "name": "IMarginFacility",
        "nameLocation": "59:15:38",
        "scope": 59911,
        "usedErrors": [],
        "usedEvents": []
      }
    ]
  },
  "id": 38
}